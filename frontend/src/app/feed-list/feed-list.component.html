<div class="feed-list-container">
  <div class="header-row">
    <h2>My Feeds</h2>
    <button class="view-toggle-btn" (click)="toggleViewMode()" [title]="viewMode === 'list' ? 'Switch to Grid View' : 'Switch to List View'">
      <span *ngIf="viewMode === 'list'">âŠž</span>
      <span *ngIf="viewMode === 'grid'">â˜°</span>
    </button>
  </div>

  <div class="search-container">
    <input
      type="text"
      class="search-input"
      placeholder="Search feeds..."
      [(ngModel)]="searchQuery"
      (ngModelChange)="filterFeeds()">
  </div>

  <div class="summary">
    <a href="#" class="summary-link active">Feeds ({{ filteredFeeds.length }})</a>
  </div>

  <ul class="feed-items" [class.view-mode-grid]="viewMode === 'grid'">
    <li *ngFor="let feed of filteredFeeds" class="feed-item">
      <div class="feed-row" [class.selected]="feed.id === selectedFeedId">
        <a href="javascript:void(0)" class="feed-link" (click)="selectFeed(feed)">
          <div class="feed-icon-wrapper">
            <img *ngIf="feed.imageUrl" [src]="feed.imageUrl" class="feed-icon" [title]="feed.title" alt="" onerror="this.style.display='none'">
            <div *ngIf="!feed.imageUrl" class="feed-icon-placeholder" [title]="feed.title">{{ feed.title?.charAt(0) || '?' }}</div>
            <span *ngIf="feed.isPodcast" class="podcast-indicator" title="Podcast">ðŸŽ™</span>
          </div>
          <div class="feed-info" *ngIf="viewMode === 'list'">
              <span class="feed-title">{{ feed.title || 'Untitled Feed' }}</span>
              <span class="feed-date" *ngIf="feed.pubdate">{{ feed.pubdate | date:'shortDate' }}</span>
          </div>
        </a>
      </div>
    </li>
  </ul>

  <div *ngIf="filteredFeeds.length === 0 && feeds.length > 0" class="no-results">
      <p>No feeds match your search.</p>
  </div>

  <div *ngIf="feeds.length === 0" class="no-feeds">
      <p>No feeds found.</p>
  </div>
</div>
