<header>
  <nav>
    <a class="brand" routerLink="/" (click)="closeMenu()">Ares</a>

    <button class="hamburger" (click)="toggleMenu()" aria-label="Toggle navigation">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </button>

    <div class="nav-links" [class.active]="isMenuOpen">

      <form class="search-form" (submit)="onSearch()" *ngIf="authService.currentUser$ | async">
        <input type="text" placeholder="Search articles..." [(ngModel)]="searchQuery" name="q">
        <button type="submit">ğŸ”</button>
      </form>

      <div class="dropdown">
        <button class="dropbtn">About</button>
        <div class="dropdown-content">
          <a routerLink="/about/licenses" (click)="closeMenu()">Licenses</a>
        </div>
      </div>

      <ng-container *ngIf="authService.currentUser$ | async as username; else loggedOut">
        <a routerLink="/feeds" class="nav-link" (click)="closeMenu()">Feeds</a>
        <span class="username"><a routerLink="/user" class="nav-link" (click)="closeMenu()">{{ username }}</a></span>
        <button (click)="authService.logout(); closeMenu()" class="logout-btn">Logout</button>
      </ng-container>
      <ng-template #loggedOut>
        <a routerLink="/login" class="nav-link" (click)="closeMenu()">Login</a>
        <a routerLink="/register" class="nav-link" (click)="closeMenu()">Register</a>
      </ng-template>
    </div>
  </nav>
</header>
